
虚谷号和物联网
==============================

虚谷号作为一个全功能的迷你电脑，在物联网应用方面即可以作为服务器，也可以作为客户端。

MQTT是物联网中最常用的一种协议，越来越受到行业的关注。虚谷号默认安装了基于MQTT的开源服务器SIoT，使其在变得更加方便。


-----------------------------
SIoT和虚谷物联项目
-----------------------------

SIoT为一个为教育定制的跨平台的MQTT服务器程序，S指科学（science）、简单（simple）的意思。SIoT支持Win10、Win7、Mac、Linux等操作系统，一键启动，无需注册即可使用。SIoT的所有物联网消息可以根据需要导出为各种格式，用于后期分析。尤其是用于科学数据采集。

SIoT的最大特点是使用简单。软件运行后，不需要任何设置就可以使用。利用特定的“Topic”的名称（“项目名称/设备名称”），就能自动在数据库中添加项目和设备的名称，并将消息数据存入数据库。

SIoT为“虚谷物联”项目的核心软件，和虚谷号一样，都是“虚谷计划”旗下的项目。对于中小学教学而言，选择用虚谷号结合SIoT作为物联网服务器，掌控板（“虚谷计划”旗下的另一款开源硬件）作为物联网终端，可谓珠联璧合。

- 您可以访问SIoT使用手册文档：https://siot.readthedocs.io/zh_CN/latest/ 了解更多关于SIoT的使用方式。

.. image:: ../images/06/iot01.png



---------------------------------
虚谷号作为MQTT服务器
---------------------------------
这很容易，只要给虚谷号供电，接入局域网即可。具体操作如下。

使用U盘模式将虚谷号连接至电脑，配置vvBoard_config.ini如图所示，其中Siot=1表示开启SIoT，0表示关闭SIoT。下面的Wi-Fi配置根据自己的情况配置即可。配置好之后，短按RST键，U盘短暂消失，再次连接时，打开wifi_log.txt即可查看虚谷号IP地址。假设IP地址为xxx.xxx.xxx.xxx，则SIoT服务器地址为xxx.xxx.xxx.xxx:8080，可以使用其他任何MQTT客户端连接。

下面以掌控板连接为例介绍SIoT的使用。



---------------------------------
虚谷号作为MQTT客户端
---------------------------------



---------------------------
应用案例
---------------------------


1.手机远程控制虚谷号






2.科学观察助手





